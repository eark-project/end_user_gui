@model end_user_gui.Models.Order

@Html.DropDownListFor(
    m => m.Archivist.UniqueId,
    new SelectList(ViewBag.Archivists, "Value", "Text", Model.Archivist.UniqueId),
    new { onchange = "updateLink()"}
    )
@Ajax.ActionLink("Save",
    "SetArchivist",
    "Orders",
    new
    {
        orderId = Model.OrderUniqueID,
        set = true,
    },
    new AjaxOptions()
    {
        UpdateTargetId = ViewData["elementId"].ToString()        
    },
    new { save=true }
    )

<script>
    function updateLink() {
        var sel = $('#@{Output.Write(ViewData["elementId"]);} select option:selected');
        var a = $('#@{Output.Write(ViewData["elementId"]);} a[save]');
        if (!a.attr('orgHref'))
        {
            a.attr('orgHref', a.attr('href'));
        }
        a.attr(
            'href', 
            a.attr('orgHref') + '&archivistId=' + sel.val()
        );
    }
</script>

@Ajax.ActionLink("Cancel",
    "SetArchivist",
    "Orders",
    new
    {
        orderId = Model.OrderUniqueID,
        set = false,
        archivistId = ""
    },
    new AjaxOptions()
    {
        UpdateTargetId = ViewData["elementId"].ToString()
    }
    )
